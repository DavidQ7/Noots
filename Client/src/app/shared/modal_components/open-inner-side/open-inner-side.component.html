<div class="wrapper" appTheme>
  <app-dialog-generic-header [message]="'notes.name' | translate"></app-dialog-generic-header>
  <div class="dialog-content" mat-dialog-content>
    <div class="tab-content">
      <div class="filter-row">
        <app-search (changeOutput)="searchChanged.next($event)" class="search"></app-search>
        <app-select
          class="select"
          [translate]="'subMenu'"
          [selectValue]="'all'"
          (selectValueChange)="selectItem($event)"
        >
          <app-select-option *ngFor="let item of selectTypes" [value]="item">
            {{ 'subMenu.' + item | translate }}
          </app-select-option>
        </app-select>
      </div>
      <ng-scrollbar
        #scrollbar
        class="content-scroll"
        [visibility]="'hover'"
        [appearance]="'compact'"
      >
        <div class="content-inner">
          <div
            *ngIf="loaded"
            class="grid-modal"
            [ngStyle]="{ opacity: murriService.flagForOpacity ? '1' : '0' }"
          >
            <div
              #item
              class="grid-modal-item"
              [id]="item.id"
              *ngFor="let item of viewNotes"
              [ngClass]="[
                pService.orientationMobile ? 'grid-plus' : '',
                (pService.fontSize$ | async) === fontSize.Big ? 'big-size' : ''
              ]"
            >
              <app-note
                [note]="item"
                [userId]="(user$ | async).id"
                (highlightNote)="highlightNote($event)"
                (clickOnNote)="highlightNote($event)"
                [ngStyle]="{ backgroundColor: item.color }"
                class="note"
              ></app-note>
            </div>
          </div>
        </div>
      </ng-scrollbar>
      <div class="fixed-filters" [hidden]="!(selectedNotesChips.length > 0)">
        <div class="wrapper-chips">
          <app-chip
            *ngFor="let item of selectedNotesChips"
            [color]="item.color"
            [text]="item.title ? item.title : 'no-title'"
            [isRemovable]="true"
            (remove)="unSelectNote(item)"
          >
          </app-chip>
        </div>
      </div>
      <app-spinner *ngIf="pService.spinnerActive"></app-spinner>
    </div>
  </div>
  <app-dialog-generic-save
    (saveOutput)="close()"
    [buttonText]="'modal.ColorModal.save' | translate"
  ></app-dialog-generic-save>
</div>
