<div class="playlist" appTheme>
  <div class="player">
    <div class="preview">
      <img *ngIf="false" />
      <div class="icon">
        <mat-icon [inline]="true">music_note</mat-icon>
      </div>
    </div>
    <div class="audio-body">
      <div class="title">
        <p>{{ content.name }}</p>
      </div>
      <div class="controls">
        <button
          type="button"
          name="skip prew"
          #skipPrew
          [disabled]="isFirstPlaying()"
          (click)="previous()"
          [CustomTooltip]="'innerNote.audio.previos' | translate"
        >
          <div class="icon">
            <mat-icon [inline]="true">skip_previous</mat-icon>
          </div>
          <div class="ripple-container" matRipple [matRippleTrigger]="skipPrew"></div>
        </button>
        <button
          type="button"
          name="play"
          #playButton
          (click)="play()"
          [disabled]="state?.error"
          [CustomTooltip]="'innerNote.audio.play' | translate"
          *ngIf="!state?.playing"
        >
          <div class="icon">
            <mat-icon [inline]="true">play_circle_outline</mat-icon>
          </div>
          <div class="ripple-container" matRipple [matRippleTrigger]="playButton"></div>
        </button>
        <button
          type="button"
          name="pause"
          #pauseButton
          (click)="pause()"
          *ngIf="state?.playing"
          [CustomTooltip]="'innerNote.audio.pause' | translate"
        >
          <div class="icon">
            <mat-icon [inline]="true">pause</mat-icon>
          </div>
          <div class="ripple-container" matRipple [matRippleTrigger]="pauseButton"></div>
        </button>
        <button
          type="button"
          name="skip next"
          #skipNext
          [disabled]="isLastPlaying()"
          (click)="next()"
          [CustomTooltip]="'innerNote.audio.next' | translate"
        >
          <div class="icon">
            <mat-icon [inline]="true">skip_next</mat-icon>
          </div>
          <div class="ripple-container" matRipple [matRippleTrigger]="skipNext"></div>
        </button>
        <div class="slider-controls">
          <div class="time">{{ state?.readableCurrentTime }}</div>
          <mat-slider
            class="slider"
            min="0"
            [max]="state?.duration"
            step="1"
            [value]="state?.currentTime"
            (input)="onSliderChangeEnd($event)"
            [disabled]="state?.error || currentFile.index === undefined"
          ></mat-slider>
          <div class="time">{{ state?.readableDuration }}</div>
        </div>
        <div class="volume">
          <button type="button" name="sound" #volumeUp>
            <div class="icon">
              <mat-icon [inline]="true" *ngIf="state?.currentVolume >= 0.5">volume_up</mat-icon>
              <mat-icon
                [inline]="true"
                *ngIf="state?.currentVolume < 0.5 && state?.currentVolume !== 0"
                >volume_down</mat-icon
              >
              <mat-icon [inline]="true" *ngIf="state?.currentVolume === 0">volume_off</mat-icon>
            </div>
            <div class="ripple-container" matRipple [matRippleTrigger]="volumeUp"></div>
          </button>
          <div class="volume-slider">
            <mat-slider
              vertical
              class="slider"
              min="0"
              max="1"
              step="0.01"
              (input)="onSliderVolumeChangeEnd($event)"
              [value]="state?.currentVolume"
              [disabled]="state?.error || currentFile.index === undefined"
            ></mat-slider>
          </div>
        </div>
        <button
          type="button"
          name="repeat"
          #repeat
          (click)="loop()"
          [CustomTooltip]="'innerNote.audio.loop' | translate"
        >
          <div class="icon" [ngStyle]="{'color': state?.loop ? '#0887a7' : ''}">
            <mat-icon [inline]="true">repeat</mat-icon>
          </div>
          <div class="ripple-container" matRipple [matRippleTrigger]="repeat"></div>
        </button>
        <button type="button" name="more" #more>
          <div class="icon">
            <mat-icon [inline]="true">more_vert</mat-icon>
          </div>
          <div class="ripple-container" matRipple [matRippleTrigger]="more"></div>
        </button>
      </div>
    </div>
  </div>
</div>
