version: '3'

services:

    postgres:
        container_name: 'postgres'
        image: postgres
        environment:
            POSTGRES_PASSWORD: password
        networks:
            - aspnetcoreapp-network

    noots-web:
        image: davydq/noots-web
        container_name: 'noots-web'
        ports:
          - "80:80"

    noots-write_api:
        image: davydq/noots-write_api
        container_name: 'noots-write_api'
        ports:
            - "5000:80"
        environment: 
            ASPNETCORE_ENVIRONMENT: "Production"
        depends_on:
            - "postgres"
        networks:
            - aspnetcoreapp-network

networks:
    aspnetcoreapp-network:
        driver: bridge